import{l as f,m as g,n as l,u as h,k as p,r as n,j as r}from"./index-CR6bPss_.js";import{F as u}from"./index-BsLwdDfx.js";import{D as v}from"./index-Mk1q_nQQ.js";import{a as b}from"./axios-Cs-129eS.js";const x="https://api.themoviedb.org/3/",M="92b418e837b833be308bbfb1fb2aca1e",P=(t=1)=>async e=>{e(f());try{const o=await b.get(`${x}discover/movie?api_key=${M}&page=${t}`);e(g(o.data.results))}catch(o){console.log("error when fetching movies : ",o),e(l())}},w=()=>{const t=h(),{movies:e,loadingMovies:o,errorMovies:c}=p(s=>s.movies),[a,i]=n.useState(1);n.useEffect(()=>{t(P(a))},[t,a]);const d=()=>{i(s=>s+1)},m=()=>{i(s=>s>1?s-1:s)};return r.jsxs("div",{className:"bg-gradient-to-b from-gray-900 to-gray-800 min-h-screen overflow-hidden",children:[(e==null?void 0:e.length)>0&&r.jsx(u,{media:e[0]}),r.jsx(v,{currentPage:a,error:c,loading:o,medias:e,onNextPage:d,onPreviousPage:m})]})};export{w as default};
