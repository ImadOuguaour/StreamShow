import{l as f,m as l,n as g,u,k as h,r as n,j as r}from"./index-ChCvs6Ns.js";import{F as p}from"./index-BdQaBuNs.js";import{D as v}from"./index-tUtlfkOX.js";import{a as x,T as M}from"./axios-CSFIi1SE.js";const b="92b418e837b833be308bbfb1fb2aca1e",P=(a=1)=>async e=>{e(f());try{const o=await x.get(`${M}/discover/movie?api_key=${b}&page=${a}`);e(l(o.data.results))}catch(o){console.log("error when fetching movies : ",o),e(g())}},E=()=>{const a=u(),{movies:e,loadingMovies:o,errorMovies:c}=h(s=>s.movies),[t,i]=n.useState(1);n.useEffect(()=>{a(P(t))},[a,t]);const d=()=>{i(s=>s+1)},m=()=>{i(s=>s>1?s-1:s)};return r.jsxs("div",{className:"bg-gradient-to-b from-gray-900 to-gray-800 min-h-screen overflow-hidden",children:[(e==null?void 0:e.length)>0&&r.jsx(p,{media:e[0]}),r.jsx(v,{currentPage:t,error:c,loading:o,medias:e,onNextPage:d,onPreviousPage:m})]})};export{E as default};
